(this["webpackJsonppbh-mint-dapp"]=this["webpackJsonppbh-mint-dapp"]||[]).push([[0],{240:function(e,t){},249:function(e,t){},267:function(e,t){},269:function(e,t){},288:function(e,t){},289:function(e,t){},352:function(e,t){},354:function(e,t){},387:function(e,t){},389:function(e,t){},390:function(e,t){},395:function(e,t){},397:function(e,t){},403:function(e,t){},405:function(e,t){},418:function(e,t){},430:function(e,t){},433:function(e,t){},438:function(e,t){},446:function(e,t){},455:function(e,t){},457:function(e,t){},527:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(81),s=n.n(a),r=n(14),o=n.n(r),i=n(41),l=n(65),d=n(54),u=n(64),b=n.n(u),j=n(217),p=n.n(j),O=n(66),h=n(218),m=n(17),g={loading:!1,account:null,smartContract:null,web3:null,errorMsg:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONN_REQUEST":return Object(m.a)(Object(m.a)({},g),{},{loading:!0});case"CONN_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,account:t.payload.account,smartContract:t.payload.smartContract,web3:t.payload.web3});case"CONN_FAIL":return Object(m.a)(Object(m.a)({},g),{},{loading:!1,errorMsg:t.payload});case"UPDATE_ACCOUNT":return Object(m.a)(Object(m.a)({},e),{},{account:t.payload.account});default:return e}},f={loading:!1,totalSupply:0,cost:0,error:!1,errorMsg:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SMART_CONTRACT_DATA_REQUEST_PENDING":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1,errorMsg:""});case"SMART_CONTRACT_DATA_REQUEST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,totalSupply:t.payload.totalSupply,error:!1,errorMsg:""});case"SMART_CONTRACT_DATA_REQUEST_FAIL":return Object(m.a)(Object(m.a)({},f),{},{loading:!1,error:!0,errorMsg:t.payload});default:return e}},S=Object(O.b)({blockchain:N,data:x}),C=[h.a],T=Object(O.c)(O.a.apply(void 0,C)),y=Object(O.d)(S,T),A=function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SMART_CONTRACT_DATA_REQUEST_PENDING"}),e.prev=1,e.next=4,y.getState().blockchain.smartContract.methods.totalSupply().call();case 4:n=e.sent,t({type:"SMART_CONTRACT_DATA_REQUEST_SUCCESS",payload:{totalSupply:n}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t({type:"SMART_CONTRACT_DATA_REQUEST_FAIL",payload:"Could not load data from contract."});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"UPDATE_ACCOUNT",payload:{account:e}}),n(A());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=n(2);var k=function(){var e,t,n=Object(d.b)(),a=Object(d.c)((function(e){return e.blockchain})),s=Object(d.c)((function(e){return e.data})),r=Object(c.useState)(!1),u=Object(l.a)(r,2),j=u[0],O=u[1],h=Object(c.useState)("Click 'Mint' to buy your NFT and mint it on the blockchain."),m=Object(l.a)(h,2),g=m[0],N=m[1],f=Object(c.useState)(1),x=Object(l.a)(f,2),S=x[0],C=x[1],T=Object(c.useState)({CONTRACT_ADDRESS:"",SCAN_LINK:"",NETWORK:{NAME:"",SYMBOL:"",ID:0},SYMBOL:"",MAX_SUPPLY:1,COST:0,GAS_LIMIT:0,MARKETPLACE_LINK:""}),y=Object(l.a)(T,2),k=y[0],_=y[1],M=function(e){var t=S+e;t<1?t=1:t>10&&(t=10),C(t)},R=function(){""!==a.account&&null!==a.smartContract&&n(A(a.account))},w=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,_(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w()}),[]),Object(c.useEffect)((function(){R()}),[a.account]),Object(E.jsxs)("div",{className:"main",children:[Object(E.jsxs)("div",{className:"mainBack",children:[Object(E.jsx)("div",{className:"mainTop"}),Object(E.jsx)("div",{className:"mainBottom",children:Object(E.jsx)("div",{className:"mainShadow"})})]}),Object(E.jsxs)("div",{style:{position:"relative"},children:[Object(E.jsxs)("div",{style:{width:"100%",padding:20},children:[Object(E.jsxs)("div",{style:{display:"inline-block"},children:[Object(E.jsxs)("span",{className:"sh1",children:["PAPER BAG HEADS ",Object(E.jsx)("span",{className:"greenBox",children:"MINT"})]}),Object(E.jsx)("p",{className:"sP",children:Object(E.jsx)("a",{className:"a",target:"_blank",href:k.SCAN_LINK,children:(e=k.CONTRACT_ADDRESS,t=30,e.length>t?"".concat(e.substring(0,t),"..."):e)})}),Object(E.jsx)("p",{className:"d-sm-none sP paperFont",children:"PAPER PROJECTS"}),Object(E.jsx)("div",{className:"spacerSmall"}),Object(E.jsxs)("p",{className:"d-sm-block d-md-none sP",children:[s.totalSupply," / ",k.MAX_SUPPLY," MINTED"]}),Object(E.jsxs)("p",{className:"d-sm-block d-md-none sP",children:["1 ",k.SYMBOL," = ",k.COST," ",k.NETWORK.SYMBOL]})]}),Object(E.jsxs)("div",{className:"d-none d-sm-inline-block",style:{display:"inline-block",float:"right"},children:[Object(E.jsx)("p",{className:"sP rightAlign paperFont",children:"PAPER PROJECTS"}),Object(E.jsx)("span",{className:"sh3 rightAlign",children:"SHOPPING BAG"})]})]}),Object(E.jsx)("div",{className:"spacerTop"}),Object(E.jsxs)("div",{className:"inlinewrapper",children:[Object(E.jsx)("div",{className:"block d-none d-md-inline-block",children:Object(E.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag1.png')",paddingTop:180},children:Object(E.jsxs)("div",{style:{textAlign:"right",marginRight:70},children:[Object(E.jsxs)("h2",{className:"weightHeavy colorLight",children:[s.totalSupply," /",Object(E.jsx)("br",{}),k.MAX_SUPPLY]}),Object(E.jsx)("h6",{className:"colorLight",children:"MINTED"})]})})}),Object(E.jsx)("div",{className:"block",children:Object(E.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag2.png')"},children:Number(s.totalSupply)>=k.MAX_SUPPLY?Object(E.jsx)("div",{className:"btn custombtn disabled",style:{backgroundColor:"#EC4A4A",opacity:100,marginTop:130}}):Object(E.jsx)(E.Fragment,{children:""===a.account||null===a.smartContract?Object(E.jsx)("div",{className:"custombtn blink",style:{backgroundColor:"#ADFF92",border:"2px solid white",marginTop:130},onClick:function(e){e.preventDefault(),n(function(){var e=Object(i.a)(o.a.mark((function e(t){var n,c,a,s,r,i,l,d,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CONN_REQUEST"}),e.next=3,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.next=9,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 9:return a=e.sent,e.next=12,a.json();case 12:if(s=e.sent,r=window,!(i=r.ethereum)||!i.isMetaMask){e.next=35;break}return b.a.setProvider(i),l=new p.a(i),e.prev=18,e.next=21,i.request({method:"eth_requestAccounts"});case 21:return d=e.sent,u=d[0],e.next=25,i.request({method:"net_version"});case 25:e.sent==s.NETWORK.ID?(j=new b.a(c,s.CONTRACT_ADDRESS),t({type:"CONN_SUCCESS",payload:{account:u,smartContract:j,web3:l}}),i.on("accountsChanged",(function(e){t(v(e[0]))})),i.on("chainChanged",(function(){window.location.reload()}))):t({type:"CONN_FAIL",payload:"Change network to ".concat(s.NETWORK.NAME,".")}),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(18),console.log(e.t0),t({type:"CONN_FAIL",payload:"Something went wrong."});case 33:e.next=37;break;case 35:t({type:"CONN_FAIL",payload:"Install Metamask."}),alert("Install Metamask");case 37:case"end":return e.stop()}}),e,null,[[18,29]])})));return function(t){return e.apply(this,arguments)}}()),R()},children:Object(E.jsx)("span",{style:{opacity:100},children:"CONNECT"})}):Object(E.jsxs)("div",{style:{display:"inline-block",marginTop:100},children:[Object(E.jsx)("p",{style:{width:150},children:'Click "+" to mint more than 1 NFT.'}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn btn-dark d-inline-block",disabled:j?1:0,onClick:function(e){e.preventDefault(),M(-1)},children:"-"}),Object(E.jsx)("div",{className:"spacerSmall d-inline-block"}),Object(E.jsx)("button",{className:"btn btn-lg btn-light d-inline-block disabled",style:{opacity:100},children:S}),Object(E.jsx)("div",{className:"spacerSmall d-inline-block"}),Object(E.jsx)("button",{className:"btn btn-dark d-inline-block",disabled:j?1:0,onClick:function(e){e.preventDefault(),M(1)},children:"+"})]}),Object(E.jsx)("div",{className:"spacerLarge"}),Object(E.jsx)("div",{className:"custombtn",style:{backgroundColor:"#ADFF92"},disabled:j?1:0,onClick:function(e){e.preventDefault(),function(){var e=10*k.COST^18,t=k.GAS_LIMIT,c=String(e*S),s=String(t*S);console.log(c,s),N("Minting your Paper Bag Head(s)..."),O(!0),a.smartContract.methods.mint(S).send({gasLimit:String(s),to:k.CONTRACT_ADDRESS,from:a.account,value:c}).once("error",(function(e){console.log(e),N("Something went wrong. Please try again later."),O(!1)})).then((function(e){console.log(e),N("\ud83c\udf89 Congrats! You just minted your very own Paper Bag Head(s)! View it on Opensea.io! \ud83e\udd73"),O(!1),n(A(a.account)),party()}))}(),R()},children:j?"BUSY":"MINT"})]})})})}),Object(E.jsx)("div",{className:"block d-none d-md-inline-block",children:Object(E.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag3.png')",paddingTop:180},children:Object(E.jsxs)("div",{style:{textAlign:"left",marginLeft:70},children:[Object(E.jsxs)("h2",{className:"weightHeavy colorLight",children:["1 ",k.SYMBOL," = ",Object(E.jsx)("br",{}),k.COST,Object(E.jsxs)("small",{children:[" ",k.NETWORK.SYMBOL]})]}),Object(E.jsx)("h6",{className:"colorLight",children:"Excluding gas fee"})]})})})]}),Object(E.jsx)("div",{className:"spacerTop"}),Object(E.jsx)("div",{className:"container text-center",style:{width:"100%"},children:Number(s.totalSupply)>=k.MAX_SUPPLY?Object(E.jsxs)("h5",{children:["Mint has ended. View ",k.SYMBOL," NFTs on ",Object(E.jsx)("a",{className:"a",target:"_blank",href:k.MARKETPLACE_LINK,children:"Opensea."})]}):Object(E.jsx)(E.Fragment,{children:""===a.account||null===a.smartContract?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h5",{children:["Connect to the ",k.NETWORK.NAME," network."]}),""!==a.errorMsg?Object(E.jsx)("p",{style:{color:"red"},children:a.errorMsg}):null]}):Object(E.jsx)("h5",{children:g})})})]})]})};s.a.render(Object(E.jsx)(d.a,{store:y,children:Object(E.jsx)(k,{})}),document.getElementById("root"))}},[[527,1,2]]]);
//# sourceMappingURL=main.e5487439.chunk.js.map