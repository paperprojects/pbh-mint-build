(this["webpackJsonppbh-mint-dapp"]=this["webpackJsonppbh-mint-dapp"]||[]).push([[0],{240:function(e,t){},249:function(e,t){},267:function(e,t){},269:function(e,t){},288:function(e,t){},289:function(e,t){},352:function(e,t){},354:function(e,t){},387:function(e,t){},389:function(e,t){},390:function(e,t){},395:function(e,t){},397:function(e,t){},403:function(e,t){},405:function(e,t){},418:function(e,t){},430:function(e,t){},433:function(e,t){},438:function(e,t){},446:function(e,t){},455:function(e,t){},457:function(e,t){},527:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(81),s=n.n(a),o=n(14),r=n.n(o),i=n(41),l=n(65),d=n(54),u=n(64),j=n.n(u),b=n(217),p=n.n(b),h=n(66),m=n(218),O=n(17),g={loading:!1,account:null,smartContract:null,web3:null,errorMsg:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONN_REQUEST":return Object(O.a)(Object(O.a)({},g),{},{loading:!0});case"CONN_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,account:t.payload.account,smartContract:t.payload.smartContract,web3:t.payload.web3});case"CONN_FAIL":return Object(O.a)(Object(O.a)({},g),{},{loading:!1,errorMsg:t.payload});case"UPDATE_ACCOUNT":return Object(O.a)(Object(O.a)({},e),{},{account:t.payload.account});default:return e}},N={loading:!1,totalSupply:"...",cost:"...",costInWei:0,maxTokens:"...",mintActive:!1,error:!1,errorMsg:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SMART_CONTRACT_DATA_REQUEST_PENDING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,error:!1,errorMsg:""});case"SMART_CONTRACT_DATA_REQUEST_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,totalSupply:t.payload.totalSupply,cost:t.payload.cost/Math.pow(10,18),costInWei:t.payload.cost,maxTokens:t.payload.maxTokens,mintActive:t.payload.mintActive,error:!1,errorMsg:""});case"SMART_CONTRACT_DATA_REQUEST_FAIL":return Object(O.a)(Object(O.a)({},N),{},{loading:!1,error:!0,errorMsg:t.payload});default:return e}},T=Object(h.b)({blockchain:x,data:f}),y=[m.a],A=Object(h.c)(h.a.apply(void 0,y)),C=Object(h.d)(T,A),v=function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){var n,c,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SMART_CONTRACT_DATA_REQUEST_PENDING"}),e.prev=1,e.next=4,C.getState().blockchain.smartContract.methods.totalSupply().call();case 4:return n=e.sent,e.next=7,C.getState().blockchain.smartContract.methods.cost().call();case 7:return c=e.sent,e.next=10,C.getState().blockchain.smartContract.methods.maxTokens().call();case 10:return a=e.sent,e.next=13,C.getState().blockchain.smartContract.methods.mintActive().call();case 13:s=e.sent,console.log(n,c,a,s),t({type:"SMART_CONTRACT_DATA_REQUEST_SUCCESS",payload:{totalSupply:n,cost:c,maxTokens:a,mintActive:s}}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),t({type:"SMART_CONTRACT_DATA_REQUEST_FAIL",payload:"Could not load data from contract."});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"UPDATE_ACCOUNT",payload:{account:e}}),n(v());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=n(1);var E=function(){var e,t,n=Object(d.b)(),a=Object(d.c)((function(e){return e.blockchain})),s=Object(d.c)((function(e){return e.data})),o=Object(c.useState)(!1),u=Object(l.a)(o,2),b=u[0],h=u[1],m=Object(c.useState)("Click 'Mint' to buy your NFT and mint it on the blockchain."),O=Object(l.a)(m,2),g=O[0],x=O[1],N=Object(c.useState)(1),f=Object(l.a)(N,2),T=f[0],y=f[1],A=Object(c.useState)({CONTRACT_ADDRESS:"",SCAN_LINK:"",NETWORK:{NAME:"",SYMBOL:"",ID:0},SYMBOL:"",GAS_LIMIT:0,MARKETPLACE_LINK:""}),C=Object(l.a)(A,2),E=C[0],_=C[1],w=function(e){var t=T+e;t<1?t=1:t>10&&(t=10),y(t)},M=function(){""!==a.account&&null!==a.smartContract&&n(v(a.account))},R=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,_(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){R()}),[]),Object(c.useEffect)((function(){M()}),[a.account]),Object(k.jsxs)("div",{className:"main",children:[Object(k.jsxs)("div",{className:"mainBack",children:[Object(k.jsx)("div",{className:"mainTop"}),Object(k.jsx)("div",{className:"mainBottom",children:Object(k.jsx)("div",{className:"mainShadow"})})]}),Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsxs)("div",{style:{width:"100%",padding:20},children:[Object(k.jsxs)("div",{style:{display:"inline-block"},children:[Object(k.jsxs)("span",{className:"sh1",children:["PAPER BAG HEADS ",Object(k.jsx)("span",{className:"greenBox d-md-none",children:"MINT"})]}),Object(k.jsx)("p",{className:"sP paperFont",children:"PAPER PROJECTS"})]}),Object(k.jsxs)("div",{className:"",style:{display:"inline-block",float:"right"},children:[Object(k.jsx)("span",{className:"d-none d-md-block sh1 greenBox rightAlign",children:"MINT SHOPPING BAG"}),Object(k.jsx)("p",{className:"sP rightAlign",children:Object(k.jsx)("a",{className:"a",target:"_blank",href:E.SCAN_LINK,children:(e=E.CONTRACT_ADDRESS,t=20,e.length>t?"".concat(e.substring(0,t),"..."):e)})}),s.mintActive?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("p",{className:"d-sm-block d-md-none rightAlign sP",children:[s.totalSupply," / ",s.maxTokens," MINTED"]}),Object(k.jsxs)("p",{className:"d-sm-block d-md-none rightAlign sP",children:["1 ",E.SYMBOL," = ",s.cost," ",E.NETWORK.SYMBOL]})]}):Object(k.jsx)(k.Fragment,{})]})]}),Object(k.jsx)("div",{className:"spacerTop"}),Object(k.jsxs)("div",{className:"inlinewrapper",children:[Object(k.jsx)("div",{className:"block d-none d-md-inline-block",children:Object(k.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag1.png')",paddingTop:180},children:Object(k.jsx)("div",{style:{textAlign:"right",marginRight:70},children:s.mintActive?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h2",{className:"weightHeavy colorLight",children:[s.totalSupply," /",Object(k.jsx)("br",{}),s.maxTokens]}),Object(k.jsx)("h6",{className:"colorLight",children:"MINTED"})]}):Object(k.jsx)(k.Fragment,{})})})}),Object(k.jsx)("div",{className:"block",children:Object(k.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag2.png')"},children:Number(s.totalSupply)>=s.maxTokens?Object(k.jsx)("div",{className:"btn custombtn disabled",style:{backgroundColor:"#EC4A4A",opacity:100,marginTop:130}}):Object(k.jsx)(k.Fragment,{children:""===a.account||null===a.smartContract?Object(k.jsx)("div",{className:"custombtn blink",style:{backgroundColor:"#ADFF92",border:"2px solid white",marginTop:130},onClick:function(e){e.preventDefault(),n(function(){var e=Object(i.a)(r.a.mark((function e(t){var n,c,a,s,o,i,l,d,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CONN_REQUEST"}),e.next=3,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.next=9,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 9:return a=e.sent,e.next=12,a.json();case 12:if(s=e.sent,o=window,!(i=o.ethereum)||!i.isMetaMask){e.next=35;break}return j.a.setProvider(i),l=new p.a(i),e.prev=18,e.next=21,i.request({method:"eth_requestAccounts"});case 21:return d=e.sent,u=d[0],e.next=25,i.request({method:"net_version"});case 25:e.sent==s.NETWORK.ID?(b=new j.a(c,s.CONTRACT_ADDRESS),t({type:"CONN_SUCCESS",payload:{account:u,smartContract:b,web3:l}}),i.on("accountsChanged",(function(e){t(S(e[0]))})),i.on("chainChanged",(function(){window.location.reload()}))):t({type:"CONN_FAIL",payload:"Change network to ".concat(s.NETWORK.NAME,".")}),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(18),console.log(e.t0),t({type:"CONN_FAIL",payload:"Something went wrong."});case 33:e.next=37;break;case 35:t({type:"CONN_FAIL",payload:"Install Metamask."}),alert("Install Metamask");case 37:case"end":return e.stop()}}),e,null,[[18,29]])})));return function(t){return e.apply(this,arguments)}}()),M()},children:Object(k.jsx)("span",{style:{opacity:100},children:"CONNECT"})}):Object(k.jsx)(k.Fragment,{children:s.mintActive?Object(k.jsxs)("div",{style:{display:"inline-block",marginTop:100},children:[Object(k.jsx)("p",{style:{width:150},children:'Click "+" to mint more than 1 NFT.'}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{className:"btn btn-dark d-inline-block",disabled:b?1:0,onClick:function(e){e.preventDefault(),w(-1)},children:"-"}),Object(k.jsx)("div",{className:"spacerSmall d-inline-block"}),Object(k.jsx)("button",{className:"btn btn-lg btn-light d-inline-block disabled",style:{opacity:100},children:T}),Object(k.jsx)("div",{className:"spacerSmall d-inline-block"}),Object(k.jsx)("button",{className:"btn btn-dark d-inline-block",disabled:b?1:0,onClick:function(e){e.preventDefault(),w(1)},children:"+"})]}),Object(k.jsx)("div",{className:"spacerLarge"}),Object(k.jsx)("div",{className:"custombtn",style:{backgroundColor:"#ADFF92"},disabled:b?1:0,onClick:function(e){e.preventDefault(),function(){var e=s.costInWei,t=E.GAS_LIMIT,c=String(e*T),o=String(t*T);console.log(c,o),x("Minting your Paper Bag Head(s)..."),h(!0),a.smartContract.methods.mint(T).send({gasLimit:String(o),to:E.CONTRACT_ADDRESS,from:a.account,value:c}).once("error",(function(e){console.log(e),x("Something went wrong. Please try again later."),h(!1)})).then((function(e){console.log(e),x("\ud83c\udf89 Congrats! You just minted your very own Paper Bag Head(s)! View it on Opensea.io! \ud83e\udd73"),h(!1),n(v(a.account)),party()}))}(),M()},children:b?"BUSY":"MINT"})]}):Object(k.jsx)("div",{className:"custombtn",style:{backgroundColor:"#DB5651",color:"white",marginTop:130},children:"INACTIVE"})})})})}),Object(k.jsx)("div",{className:"block d-none d-md-inline-block",children:Object(k.jsx)("div",{className:"bag",style:{backgroundImage:"url('images/bag3.png')",paddingTop:180},children:Object(k.jsx)("div",{style:{textAlign:"left",marginLeft:70},children:s.mintActive?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h2",{className:"weightHeavy colorLight",children:["1 ",E.SYMBOL," = ",Object(k.jsx)("br",{}),s.cost,Object(k.jsxs)("small",{children:[" ",E.NETWORK.SYMBOL]})]}),Object(k.jsx)("h6",{className:"colorLight",children:"Excluding gas fee"})]}):Object(k.jsx)(k.Fragment,{})})})})]}),Object(k.jsx)("div",{className:"spacerTop"}),Object(k.jsx)("div",{className:"container text-center",style:{width:"100%"},children:Number(s.totalSupply)>=s.maxTokens?Object(k.jsxs)("h5",{children:["Mint has ended. View ",E.SYMBOL," NFTs on ",Object(k.jsx)("a",{className:"a",target:"_blank",href:E.MARKETPLACE_LINK,children:"Opensea."})]}):Object(k.jsx)(k.Fragment,{children:""===a.account||null===a.smartContract?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h5",{children:["Connect to the ",E.NETWORK.NAME," network."]}),""!==a.errorMsg?Object(k.jsx)("p",{style:{color:"red"},children:a.errorMsg}):null]}):Object(k.jsx)(k.Fragment,{children:s.mintActive?Object(k.jsx)("h5",{children:g}):Object(k.jsx)("h5",{children:"You can't buy a PBH just yet. We will activate the mint shortly. Watch out for an annoucement on Twitter!"})})})})]})]})};s.a.render(Object(k.jsx)(d.a,{store:C,children:Object(k.jsx)(E,{})}),document.getElementById("root"))}},[[527,1,2]]]);
//# sourceMappingURL=main.b934c0d2.chunk.js.map